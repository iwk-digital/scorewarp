<html>

<head>
  <!-- to start at terminal:  "python3 -m http.server" -->
  <title>ScoreWarp</title>
  <meta charset="utf-8">
  <link rel="icon" href="https://www.mdw.ac.at/favicon.ico">

  <!-- Load Verovio toolkit -->
  <!-- <script src="http://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js" defer></script> -->
  <script src="https://www.verovio.org/javascript/latest/verovio-toolkit-hum.js" defer></script>
  <!-- <script src="https://www.verovio.org/javascript/develop/verovio-toolkit-wasm.js" defer></script> -->

  <!-- Load the script files -->
  <script src="./gui.js"></script>
  <script src="./deps/jszip.min.js"></script>
  <script src="./deps/FileSaver.min.js"></script>
  <script src="./demo.js"></script>
  <script src="./scoreWarper.js"></script>
  <link rel="stylesheet" href="./styles.css">

</head>

<body style="font-family:Arial, Helvetica, sans-serif">
  <h1>Let&rsquo;s do the ScoreWarp again!</h1>
  <div id="header">
    <form class="headerItem" name="form1" id="form1" action="#">
      Select demo pieces with performances: <br /> <select name="piece" id="piece">
        <option value="" selected="selected">Select a piece</option>
      </select>
      <select name="performance" id="performance">
        <option value="" selected="selected">Select a performance</option>
      </select>
      <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
    </form>
    <div id="dropArea" class="headerItem" title="Please provide exactly one MEI file and one or more MAPS files that reference the ids of the MEI file.">
      <img src="./upload-16.svg" alt="MDW Logo" width="32" height="32">
      <span class="headerItem">...or warp your own files.</span>
      <input type="file" id="fileInput" accept=".mei,.maps,.json" multiple value="" /> 
      <div id="taskList"></div>
    </div>
  </div>
  <button onclick="warp()">1) Warp [W]</button>
  <button onclick="warpIndividualNotes()">2) Warp notes inside chords [A]</button>
  <button onclick="loadMEI(false)">3) Reload data [C]</button>
  <button onclick="downloadSVG()">4) Download SVG [D]</button>
  <button onclick="toggleRedLines()">5) Toggle red lines</button>
  <a href id="downloadLink"></a>
  </p>
  <div id="notation" class="presentationPanel">
    <p><b>Please load an MEI score file.</b></p>
  </div>
  <div id="performanceTime" class="presentationPanel"></div>
  <p id="copyright" style="font-size:xx-small;">
    <a href="https://iwk.mdw.ac.at/goebl/" target="_blank">Werner Goebl</a>,
    <a href="https://www.mdw.ac.at/iwk/david-weigl/" target="_blank">David M. Weigl</a>,
    <span id="date"></span>.
  </p>
</body>

</html>